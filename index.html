<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Commerce Tech - Premium Electronics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom styles for range slider */
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: #2563eb;
            cursor: pointer;
            border-radius: 50%;
        }
        
        /* Print styles */
        @media print {
            body * {
                visibility: hidden;
            }
            #receiptModal, #receiptModal * {
                visibility: visible;
            }
            #receiptModal {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                background: white;
                margin: 0;
                padding: 20px;
                box-shadow: none;
            }
            #printReceipt, #closeReceipt {
                display: none;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-40">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-laptop-code text-2xl text-blue-600"></i>
                <h1 class="text-xl font-bold text-gray-800">` Tech</h1>
            </div>
            <div class="flex items-center space-x-4 sm:space-x-6">
                <button id="mobileMenuBtn" class="md:hidden text-gray-600 hover:text-blue-600">
                    <i class="fas fa-bars text-xl"></i>
                </button>
                <a href="#" class="hidden sm:block text-gray-600 hover:text-blue-600"><i class="fas fa-search"></i></a>
                <a href="#" class="hidden sm:block text-gray-600 hover:text-blue-600"><i class="fas fa-heart"></i></a>
                <button id="cartBtn" class="text-gray-600 hover:text-blue-600 relative">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cartCount" class="absolute -top-2 -right-2 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                </button>
                <a href="#" class="hidden sm:block text-gray-600 hover:text-blue-600"><i class="fas fa-user"></i></a>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobileMenu" class="hidden md:hidden bg-white border-t py-2 px-4">
            <div class="flex flex-col space-y-3">
                <a href="#" class="text-gray-700 hover:text-blue-600"><i class="fas fa-home mr-2"></i> Home</a>
                <a href="#" class="text-gray-700 hover:text-blue-600"><i class="fas fa-th-large mr-2"></i> Categories</a>
                <a href="#" class="text-gray-700 hover:text-blue-600"><i class="fas fa-search mr-2"></i> Search</a>
                <a href="#" class="text-gray-700 hover:text-blue-600"><i class="fas fa-user mr-2"></i> Account</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <div class="flex flex-col md:flex-row gap-8">
            <!-- Filters Sidebar - Hidden on mobile by default -->
            <aside id="filtersSidebar" class="hidden md:block w-full md:w-64 bg-white p-6 rounded-lg shadow-sm h-fit sticky top-24">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-lg font-semibold text-gray-800">Filters</h2>
                    <button id="closeFilters" class="md:hidden text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <!-- Price Range -->
                <div class="mb-6">
                    <h3 class="text-sm font-medium text-gray-700 mb-2">Price Range</h3>
                    <div class="flex justify-between text-xs text-gray-500 mb-2">
                        <span>$0</span>
                        <span>$2000</span>
                    </div>
                    <input type="range" id="priceRange" min="0" max="2000" value="2000" class="w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer">
                    <div class="flex justify-between mt-2">
                        <span class="text-xs font-medium">$0</span>
                        <span id="maxPriceDisplay" class="text-xs font-medium">$2000</span>
                    </div>
                </div>
                
                <!-- Categories -->
                <div class="mb-6">
                    <h3 class="text-sm font-medium text-gray-700 mb-2">Categories</h3>
                    <ul class="space-y-2">
                        <li>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="category" value="laptops" class="rounded text-blue-600 category-filter">
                                <span class="text-sm text-gray-600">Laptops</span>
                            </label>
                        </li>
                        <li>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="category" value="smartphones" class="rounded text-blue-600 category-filter">
                                <span class="text-sm text-gray-600">Smartphones</span>
                            </label>
                        </li>
                        <li>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="category" value="tablets" class="rounded text-blue-600 category-filter">
                                <span class="text-sm text-gray-600">Tablets</span>
                            </label>
                        </li>
                        <li>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="category" value="accessories" class="rounded text-blue-600 category-filter">
                                <span class="text-sm text-gray-600">Accessories</span>
                            </label>
                        </li>
                    </ul>
                </div>
                
                <!-- Brands -->
                <div class="mb-6">
                    <h3 class="text-sm font-medium text-gray-700 mb-2">Brands</h3>
                    <ul class="space-y-2">
                        <li>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="brand" value="apple" class="rounded text-blue-600 brand-filter">
                                <span class="text-sm text-gray-600">Apple</span>
                            </label>
                        </li>
                        <li>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="brand" value="samsung" class="rounded text-blue-600 brand-filter">
                                <span class="text-sm text-gray-600">Samsung</span>
                            </label>
                        </li>
                        <li>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="brand" value="dell" class="rounded text-blue-600 brand-filter">
                                <span class="text-sm text-gray-600">Dell</span>
                            </label>
                        </li>
                        <li>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="brand" value="hp" class="rounded text-blue-600 brand-filter">
                                <span class="text-sm text-gray-600">HP</span>
                            </label>
                        </li>
                    </ul>
                </div>
                
                <!-- Ratings -->
                <div>
                    <h3 class="text-sm font-medium text-gray-700 mb-2">Customer Ratings</h3>
                    <ul class="space-y-2">
                        <li>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="rating" value="5" class="rounded text-blue-600 rating-filter">
                                <div class="flex text-yellow-400">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </label>
                        </li>
                        <li>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="rating" value="4" class="rounded text-blue-600 rating-filter">
                                <div class="flex text-yellow-400">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                </div>
                            </label>
                        </li>
                        <li>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="rating" value="3" class="rounded text-blue-600 rating-filter">
                                <div class="flex text-yellow-400">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                    <i class="far fa-star"></i>
                                </div>
                            </label>
                        </li>
                    </ul>
                </div>
                
                <button id="applyFilters" class="mt-6 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200">
                    Apply Filters
                </button>
                <button id="resetFilters" class="mt-2 w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-50 transition duration-200">
                    Reset All
                </button>
            </aside>

            <!-- Product Grid -->
            <div class="flex-1">
                <!-- Sorting and Results -->
                <div class="bg-white p-4 rounded-lg shadow-sm mb-6 flex flex-col sm:flex-row justify-between items-center">
                    <div class="flex items-center space-x-4 mb-3 sm:mb-0">
                        <button id="showFilters" class="md:hidden flex items-center space-x-1 text-blue-600">
                            <i class="fas fa-filter"></i>
                            <span>Filters</span>
                        </button>
                        <p id="resultsCount" class="text-sm text-gray-600">Showing all 12 products</p>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="text-sm text-gray-600">Sort by:</span>
                        <select id="sortBy" class="border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="featured">Featured</option>
                            <option value="price-low">Price: Low to High</option>
                            <option value="price-high">Price: High to Low</option>
                            <option value="rating">Customer Rating</option>
                            <option value="newest">Newest Arrivals</option>
                        </select>
                    </div>
                </div>

                <!-- Products Grid -->
                <div id="productsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Products will be dynamically inserted here -->
                </div>

                <!-- Loading State -->
                <div id="loadingState" class="hidden flex justify-center items-center py-12">
                    <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div>
                </div>

                <!-- No Results State -->
                <div id="noResults" class="hidden text-center py-12">
                    <i class="fas fa-search text-4xl text-gray-300 mb-4"></i>
                    <h3 class="text-xl font-medium text-gray-700 mb-2">No products found</h3>
                    <p class="text-gray-500">Try adjusting your search or filter to find what you're looking for.</p>
                    <button id="resetFiltersNoResults" class="mt-4 bg-blue-600 text-white py-2 px-6 rounded-md hover:bg-blue-700 transition duration-200">
                        Reset Filters
                    </button>
                </div>

                <!-- Pagination -->
                <div class="mt-8 flex justify-center">
                    <nav id="pagination" class="flex items-center space-x-2">
                        <!-- Pagination will be dynamically inserted here -->
                    </nav>
                </div>
            </div>
        </div>
    </main>

    <!-- Shopping Cart Modal -->
    <div id="cartModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-center border-b pb-4">
                    <h2 class="text-xl font-semibold text-gray-800">Your Shopping Cart</h2>
                    <button id="closeCart" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <!-- Cart Items -->
                <div id="cartItems" class="space-y-4 my-4">
                    <!-- Cart items will be dynamically inserted here -->
                </div>
                
                <!-- Empty Cart State -->
                <div id="emptyCart" class="hidden text-center py-12">
                    <i class="fas fa-shopping-cart text-4xl text-gray-300 mb-4"></i>
                    <h3 class="text-xl font-medium text-gray-700 mb-2">Your cart is empty</h3>
                    <p class="text-gray-500">Looks like you haven't added anything to your cart yet.</p>
                    <button id="continueShopping" class="mt-4 bg-blue-600 text-white py-2 px-6 rounded-md hover:bg-blue-700 transition duration-200">
                        Continue Shopping
                    </button>
                </div>
                
                <!-- Cart Summary -->
                <div id="cartSummary" class="mt-6 border-t pt-4">
                    <div class="flex justify-between mb-2">
                        <span class="text-gray-600">Subtotal</span>
                        <span id="cartSubtotal" class="font-medium">$0</span>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span class="text-gray-600">Shipping</span>
                        <span class="font-medium">Free</span>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span class="text-gray-600">Tax</span>
                        <span id="cartTax" class="font-medium">$0</span>
                    </div>
                    <div class="flex justify-between mt-4 pt-4 border-t">
                        <span class="text-lg font-semibold">Total</span>
                        <span id="cartTotal" class="text-lg font-bold">$0</span>
                    </div>
                    
                    <div class="mt-6 space-y-3">
                        <button id="checkoutBtn" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200">
                            Proceed to Checkout
                        </button>
                        <button id="continueShoppingBtn" class="w-full border border-blue-600 text-blue-600 py-2 px-4 rounded-md hover:bg-blue-50 transition duration-200">
                            Continue Shopping
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Receipt Modal -->
    <div id="receiptModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
            <div class="p-6">
                <div class="flex justify-between items-center border-b pb-4">
                    <h2 class="text-xl font-semibold text-gray-800">Order Confirmation</h2>
                    <button id="closeReceipt" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="my-4">
                    <div class="text-center mb-4">
                        <i class="fas fa-check-circle text-5xl text-green-500 mb-2"></i>
                        <h3 class="text-lg font-semibold">Thank you for your order!</h3>
                        <p class="text-sm text-gray-600 mt-1">Order <span id="orderNumber"></span> has been placed successfully</p>
                    </div>
                    
                    <div class="border rounded-lg p-4">
                        <div class="flex justify-between mb-2">
                            <span class="text-gray-600">Date</span>
                            <span id="orderDate" class="font-medium"></span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span class="text-gray-600">Payment Method</span>
                            <span class="font-medium">Credit Card</span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span class="text-gray-600">Shipping</span>
                            <span class="font-medium">Standard (3-5 days)</span>
                        </div>
                        <div class="flex justify-between mt-4 pt-4 border-t">
                            <span class="font-semibold">Total</span>
                            <span id="orderTotal" class="font-bold"></span>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <h4 class="font-medium mb-2">Order Summary</h4>
                        <div id="orderItems" class="space-y-3">
                            <!-- Order items will be dynamically inserted here -->
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <button id="printReceipt" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200">
                            <i class="fas fa-print mr-2"></i> Print Receipt
                        </button>
                        <button id="backToShopping" class="w-full mt-2 border border-blue-600 text-blue-600 py-2 px-4 rounded-md hover:bg-blue-50 transition duration-200">
                            Back to Shopping
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">E-Commerce Tech</h3>
                    <p class="text-gray-400 text-sm">Premium electronics and gadgets at competitive prices. Quality products with excellent customer service.</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Shop</h3>
                    <ul class="space-y-2 text-gray-400 text-sm">
                        <li><a href="#" class="hover:text-white">Laptops</a></li>
                        <li><a href="#" class="hover:text-white">Smartphones</a></li>
                        <li><a href="#" class="hover:text-white">Tablets</a></li>
                        <li><a href="#" class="hover:text-white">Accessories</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Customer Service</h3>
                    <ul class="space-y-2 text-gray-400 text-sm">
                        <li><a href="#" class="hover:text-white">Contact Us</a></li>
                        <li><a href="#" class="hover:text-white">FAQs</a></li>
                        <li><a href="#" class="hover:text-white">Shipping Policy</a></li>
                        <li><a href="#" class="hover:text-white">Returns & Warranty</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Newsletter</h3>
                    <p class="text-gray-400 text-sm mb-2">Subscribe to get updates on new products and special offers.</p>
                    <div class="flex">
                        <input type="email" placeholder="Your email" class="px-3 py-2 text-sm text-gray-800 rounded-l-md w-full focus:outline-none">
                        <button class="bg-blue-600 text-white px-4 py-2 rounded-r-md hover:bg-blue-700">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-400 text-sm mb-4 md:mb-0">© 2025 E-Commerce Tech. All rights reserved.</p>
                <div class="flex space-x-6">
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-pinterest"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Product Data
        const products = [
            {
                id: 1,
                name: "MacBook Pro 14\" M2 Pro",
                description: "Apple M2 Pro chip, 16GB RAM, 512GB SSD",
                price: 1999,
                originalPrice: 2199,
                category: "laptops",
                brand: "apple",
                rating: 4.5,
                reviews: 142,
                image: "https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bWFjYm9vayUyMHByb3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",
                badge: "bestseller",
                dateAdded: "2023-05-15"
            },
            {
                id: 2,
                name: "iPhone 14 Pro",
                description: "6.1\" Super Retina XDR, A16 Bionic, 128GB",
                price: 999,
                originalPrice: 999,
                category: "smartphones",
                brand: "apple",
                rating: 4,
                reviews: 89,
                image: "https://images.unsplash.com/photo-1601784551446-20c9e07cdbdb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8aXBob25lfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60",
                badge: "new",
                dateAdded: "2023-06-10"
            },
            {
                id: 3,
                name: "Samsung Galaxy Tab S8",
                description: "11\" 120Hz Display, Snapdragon 8 Gen 1, 128GB",
                price: 699,
                originalPrice: 749,
                category: "tablets",
                brand: "samsung",
                rating: 5,
                reviews: 67,
                image: "https://images.unsplash.com/photo-1629131726692-1accd0c53ce0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fHNhbXN1bmclMjB0YWJsZXR8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60",
                badge: "",
                dateAdded: "2023-04-22"
            },
            {
                id: 4,
                name: "Dell XPS 15",
                description: "15.6\" 4K Touch, i7-12700H, 16GB RAM, 1TB SSD",
                price: 1799,
                originalPrice: 1999,
                category: "laptops",
                brand: "dell",
                rating: 4.5,
                reviews: 53,
                image: "https://images.unsplash.com/photo-1593642632823-8f785ba67e45?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGRlbGwlMjBsYXB0b3B8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60",
                badge: "",
                dateAdded: "2023-03-18"
            },
            {
                id: 5,
                name: "Sony WH-1000XM5",
                description: "Wireless Noise Cancelling Headphones",
                price: 349,
                originalPrice: 399,
                category: "accessories",
                brand: "sony",
                rating: 5,
                reviews: 214,
                image: "https://images.unsplash.com/photo-1610792516307-ea5acd9c3b00?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fHdpcmVsZXNzJTIwaGVhZHBob25lc3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",
                badge: "sale",
                dateAdded: "2023-02-05"
            },
            {
                id: 6,
                name: "Samsung Galaxy S23 Ultra",
                description: "6.8\" AMOLED, 200MP Camera, 12GB RAM, 256GB",
                price: 1199,
                originalPrice: 1199,
                category: "smartphones",
                brand: "samsung",
                rating: 4.5,
                reviews: 178,
                image: "https://images.unsplash.com/photo-1625772452859-1c03d5bf1137?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fHNhbXN1bmclMjBwaG9uZXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",
                badge: "",
                dateAdded: "2023-01-30"
            },
            {
                id: 7,
                name: "Apple Watch Series 8",
                description: "45mm GPS, Midnight Aluminum Case",
                price: 429,
                originalPrice: 429,
                category: "accessories",
                brand: "apple",
                rating: 4,
                reviews: 92,
                image: "https://images.unsplash.com/photo-1672838524775-9a6aef1a1a4c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8YXBwbGUlMjB3YXRjaHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",
                badge: "new",
                dateAdded: "2023-06-05"
            },
            {
                id: 8,
                name: "HP Spectre x360",
                description: "13.5\" 3K2K OLED, i7-1250U, 16GB RAM, 1TB SSD",
                price: 1499,
                originalPrice: 1699,
                category: "laptops",
                brand: "hp",
                rating: 4,
                reviews: 47,
                image: "https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bWFjYm9vayUyMHByb3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",
                badge: "",
                dateAdded: "2023-04-10"
            },
            {
                id: 9,
                name: "iPad Pro 12.9\"",
                description: "M2 chip, 128GB, Wi-Fi, Space Gray",
                price: 1099,
                originalPrice: 1099,
                category: "tablets",
                brand: "apple",
                rating: 5,
                reviews: 136,
                image: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8aXBhZHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",
                badge: "bestseller",
                dateAdded: "2023-03-22"
            },
            {
                id: 10,
                name: "Bose QuietComfort 45",
                description: "Wireless Bluetooth Noise Cancelling Headphones",
                price: 329,
                originalPrice: 329,
                category: "accessories",
                brand: "bose",
                rating: 4.5,
                reviews: 187,
                image: "https://images.unsplash.com/photo-1639754390580-2e7437267698?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Ym9zZSUyMGhlYWRwaG9uZXN8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60",
                badge: "",
                dateAdded: "2023-02-18"
            },
            {
                id: 11,
                name: "Samsung Galaxy Z Flip4",
                description: "6.7\" Foldable Display, 8GB RAM, 128GB",
                price: 999,
                originalPrice: 999,
                category: "smartphones",
                brand: "samsung",
                rating: 4,
                reviews: 78,
                image: "https://images.unsplash.com/photo-1664478546384-d57ffe74a78c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fHNhbXN1bmclMjBmbGlwfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60",
                badge: "new",
                dateAdded: "2023-05-30"
            },
            {
                id: 12,
                name: "Logitech MX Master 3S",
                description: "Wireless Performance Mouse",
                price: 99,
                originalPrice: 129,
                category: "accessories",
                brand: "logitech",
                rating: 5,
                reviews: 243,
                image: "https://images.unsplash.com/photo-1527814050087-3793815479db?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fG1vdXNlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60",
                badge: "sale",
                dateAdded: "2023-01-15"
            }
        ];

        // Shopping Cart
        let cart = [];
        
        // DOM Elements
        const productsGrid = document.getElementById('productsGrid');
        const cartModal = document.getElementById('cartModal');
        const cartItems = document.getElementById('cartItems');
        const emptyCart = document.getElementById('emptyCart');
        const cartSummary = document.getElementById('cartSummary');
        const cartCount = document.getElementById('cartCount');
        const cartSubtotal = document.getElementById('cartSubtotal');
        const cartTax = document.getElementById('cartTax');
        const cartTotal = document.getElementById('cartTotal');
        const receiptModal = document.getElementById('receiptModal');
        const orderNumber = document.getElementById('orderNumber');
        const orderDate = document.getElementById('orderDate');
        const orderTotal = document.getElementById('orderTotal');
        const orderItems = document.getElementById('orderItems');
        const noResults = document.getElementById('noResults');
        const loadingState = document.getElementById('loadingState');
        const resultsCount = document.getElementById('resultsCount');
        const priceRange = document.getElementById('priceRange');
        const maxPriceDisplay = document.getElementById('maxPriceDisplay');
        const sortBy = document.getElementById('sortBy');
        const filtersSidebar = document.getElementById('filtersSidebar');
        const showFilters = document.getElementById('showFilters');
        const closeFilters = document.getElementById('closeFilters');
        const applyFilters = document.getElementById('applyFilters');
        const resetFilters = document.getElementById('resetFilters');
        const resetFiltersNoResults = document.getElementById('resetFiltersNoResults');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileMenu = document.getElementById('mobileMenu');

        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts(products);
            setupEventListeners();
            updateCartCount();
        });

        // Set up event listeners
        function setupEventListeners() {
            // Cart buttons
            document.getElementById('cartBtn').addEventListener('click', () => {
                cartModal.classList.remove('hidden');
                renderCartItems();
            });
            
            document.getElementById('closeCart').addEventListener('click', () => {
                cartModal.classList.add('hidden');
            });
            
            document.getElementById('continueShopping').addEventListener('click', () => {
                cartModal.classList.add('hidden');
            });
            
            document.getElementById('continueShoppingBtn').addEventListener('click', () => {
                cartModal.classList.add('hidden');
            });
            
            // Checkout and receipt
            document.getElementById('checkoutBtn').addEventListener('click', () => {
                cartModal.classList.add('hidden');
                generateReceipt();
                receiptModal.classList.remove('hidden');
            });
            
            document.getElementById('closeReceipt').addEventListener('click', () => {
                receiptModal.classList.add('hidden');
            });
            
            document.getElementById('backToShopping').addEventListener('click', () => {
                receiptModal.classList.add('hidden');
            });
            
            document.getElementById('printReceipt').addEventListener('click', () => {
                window.print();
            });
            
            // Filter and sort
            priceRange.addEventListener('input', () => {
                maxPriceDisplay.textContent = `$${priceRange.value}`;
            });
            
            sortBy.addEventListener('change', () => {
                filterAndSortProducts();
            });
            
            applyFilters.addEventListener('click', () => {
                filterAndSortProducts();
                if (window.innerWidth < 768) {
                    filtersSidebar.classList.add('hidden');
                }
            });
            
            resetFilters.addEventListener('click', () => {
                resetAllFilters();
                filterAndSortProducts();
            });
            
            resetFiltersNoResults.addEventListener('click', () => {
                resetAllFilters();
                filterAndSortProducts();
            });
            
            // Mobile filters
            showFilters.addEventListener('click', () => {
                filtersSidebar.classList.remove('hidden');
            });
            
            closeFilters.addEventListener('click', () => {
                filtersSidebar.classList.add('hidden');
            });
            
            // Mobile menu
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        }

        // Render products to the grid
        function renderProducts(productsToRender) {
            productsGrid.innerHTML = '';
            
            if (productsToRender.length === 0) {
                noResults.classList.remove('hidden');
                productsGrid.classList.add('hidden');
                resultsCount.textContent = 'No products found';
                return;
            }
            
            noResults.classList.add('hidden');
            productsGrid.classList.remove('hidden');
            resultsCount.textContent = `Showing ${productsToRender.length} products`;
            
            productsToRender.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition duration-200';
                
                // Determine badge color and text
                let badgeClass = '';
                let badgeText = '';
                if (product.badge === 'new') {
                    badgeClass = 'bg-red-100 text-red-800';
                    badgeText = 'NEW';
                } else if (product.badge === 'bestseller') {
                    badgeClass = 'bg-yellow-100 text-yellow-800';
                    badgeText = 'BESTSELLER';
                } else if (product.badge === 'sale') {
                    badgeClass = 'bg-green-100 text-green-800';
                    badgeText = 'SALE';
                }
                
                // Calculate discount percentage if there's an original price
                const discountPercentage = product.originalPrice > product.price 
                    ? Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100)
                    : 0;
                
                // Generate star rating
                const stars = [];
                const fullStars = Math.floor(product.rating);
                const hasHalfStar = product.rating % 1 >= 0.5;
                
                for (let i = 0; i < fullStars; i++) {
                    stars.push('<i class="fas fa-star"></i>');
                }
                
                if (hasHalfStar) {
                    stars.push('<i class="fas fa-star-half-alt"></i>');
                }
                
                const emptyStars = 5 - stars.length;
                for (let i = 0; i < emptyStars; i++) {
                    stars.push('<i class="far fa-star"></i>');
                }
                
                productCard.innerHTML = `
                    <div class="relative">
                        <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover">
                        ${badgeText ? `<div class="absolute top-2 right-2 ${badgeClass} text-xs font-semibold px-2 py-1 rounded-full">${badgeText}</div>` : ''}
                        ${discountPercentage > 0 ? `<div class="absolute top-2 left-2 bg-blue-600 text-white text-xs font-semibold px-2 py-1 rounded-full">-${discountPercentage}%</div>` : ''}
                    </div>
                    <div class="p-4">
                        <div class="flex items-center mb-1">
                            <div class="flex text-yellow-400 mr-2">
                                ${stars.join('')}
                            </div>
                            <span class="text-xs text-gray-500">(${product.reviews})</span>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-1">${product.name}</h3>
                        <p class="text-sm text-gray-600 mb-3">${product.description}</p>
                        <div class="flex justify-between items-center">
                            ${product.originalPrice > product.price 
                                ? `<div>
                                    <span class="text-lg font-bold text-gray-900">$${product.price}</span>
                                    <span class="text-sm text-gray-500 line-through ml-2">$${product.originalPrice}</span>
                                </div>`
                                : `<span class="text-lg font-bold text-gray-900">$${product.price}</span>`}
                            <button class="add-to-cart bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 transition duration-200 text-sm" data-id="${product.id}">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                `;
                
                productsGrid.appendChild(productCard);
            });
            
            // Add event listeners to all "Add to Cart" buttons
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', (e) => {
                    const productId = parseInt(e.target.getAttribute('data-id'));
                    addToCart(productId);
                });
            });
        }

        // Add product to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            
            if (!product) return;
            
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            updateCartCount();
            
            // Show a quick notification
            const notification = document.createElement('div');
            notification.className = 'fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md shadow-lg flex items-center';
            notification.innerHTML = `
                <i class="fas fa-check-circle mr-2"></i>
                <span>Added to cart</span>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('opacity-0', 'transition-opacity', 'duration-300');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 2000);
        }

        // Update cart count in header
        function updateCartCount() {
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            if (totalItems === 0) {
                cartCount.classList.add('hidden');
            } else {
                cartCount.classList.remove('hidden');
            }
        }

        // Render cart items in modal
        function renderCartItems() {
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                emptyCart.classList.remove('hidden');
                cartSummary.classList.add('hidden');
                return;
            }
            
            emptyCart.classList.add('hidden');
            cartSummary.classList.remove('hidden');
            
            let subtotal = 0;
            
            cart.forEach(item => {
                const cartItem = document.createElement('div');
                cartItem.className = 'flex items-center border-b pb-4';
                
                cartItem.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="w-20 h-20 object-cover rounded-md">
                    <div class="ml-4 flex-1">
                        <h3 class="text-md font-medium text-gray-800">${item.name}</h3>
                        <p class="text-sm text-gray-600">${item.description}</p>
                        <div class="flex items-center mt-1">
                            <button class="remove-item text-gray-500 hover:text-gray-700" data-id="${item.id}">
                                <i class="fas fa-trash-alt text-sm"></i>
                            </button>
                        </div>
                    </div>
                    <div class="flex flex-col items-end">
                        <span class="text-md font-semibold text-gray-800">$${(item.price * item.quantity).toFixed(2)}</span>
                        <div class="flex items-center mt-2">
                            <button class="decrease-quantity w-6 h-6 border border-gray-300 rounded-l-md flex items-center justify-center" data-id="${item.id}">-</button>
                            <span class="quantity-display w-8 text-center border-t border-b border-gray-300">${item.quantity}</span>
                            <button class="increase-quantity w-6 h-6 border border-gray-300 rounded-r-md flex items-center justify-center" data-id="${item.id}">+</button>
                        </div>
                    </div>
                `;
                
                cartItems.appendChild(cartItem);
                subtotal += item.price * item.quantity;
            });
            
            // Add event listeners to quantity buttons
            document.querySelectorAll('.increase-quantity').forEach(button => {
                button.addEventListener('click', (e) => {
                    const productId = parseInt(e.target.getAttribute('data-id'));
                    const item = cart.find(item => item.id === productId);
                    if (item) {
                        item.quantity += 1;
                        renderCartItems();
                        updateCartCount();
                    }
                });
            });
            
            document.querySelectorAll('.decrease-quantity').forEach(button => {
                button.addEventListener('click', (e) => {
                    const productId = parseInt(e.target.getAttribute('data-id'));
                    const item = cart.find(item => item.id === productId);
                    if (item) {
                        if (item.quantity > 1) {
                            item.quantity -= 1;
                        } else {
                            cart = cart.filter(item => item.id !== productId);
                        }
                        renderCartItems();
                        updateCartCount();
                    }
                });
            });
            
            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', (e) => {
                    const productId = parseInt(e.target.getAttribute('data-id'));
                    cart = cart.filter(item => item.id !== productId);
                    renderCartItems();
                    updateCartCount();
                });
            });
            
            // Update totals
            const tax = subtotal * 0.1; // 10% tax
            const total = subtotal + tax;
            
            cartSubtotal.textContent = `$${subtotal.toFixed(2)}`;
            cartTax.textContent = `$${tax.toFixed(2)}`;
            cartTotal.textContent = `$${total.toFixed(2)}`;
        }

        // Generate receipt
        function generateReceipt() {
            const now = new Date();
            const orderId = 'ORD-' + Math.floor(Math.random() * 1000000);
            
            orderNumber.textContent = orderId;
            orderDate.textContent = now.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            let subtotal = 0;
            orderItems.innerHTML = '';
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                const orderItem = document.createElement('div');
                orderItem.className = 'flex justify-between';
                orderItem.innerHTML = `
                    <span class="text-sm">${item.name} × ${item.quantity}</span>
                    <span class="text-sm font-medium">$${itemTotal.toFixed(2)}</span>
                `;
                orderItems.appendChild(orderItem);
            });
            
            // Add summary
            const tax = subtotal * 0.1;
            const total = subtotal + tax;
            
            orderTotal.textContent = `$${total.toFixed(2)}`;
            
            // Clear cart
            cart = [];
            updateCartCount();
        }

        // Filter and sort products
        function filterAndSortProducts() {
            loadingState.classList.remove('hidden');
            productsGrid.classList.add('hidden');
            
            setTimeout(() => {
                // Get filter values
                const maxPrice = parseInt(priceRange.value);
                const selectedCategories = Array.from(document.querySelectorAll('.category-filter:checked')).map(cb => cb.value);
                const selectedBrands = Array.from(document.querySelectorAll('.brand-filter:checked')).map(cb => cb.value);
                const selectedRatings = Array.from(document.querySelectorAll('.rating-filter:checked')).map(cb => parseInt(cb.value));
                const sortOption = sortBy.value;
                
                // Filter products
                let filteredProducts = products.filter(product => {
                    // Price filter
                    if (product.price > maxPrice) return false;
                    
                    // Category filter
                    if (selectedCategories.length > 0 && !selectedCategories.includes(product.category)) {
                        return false;
                    }
                    
                    // Brand filter
                    if (selectedBrands.length > 0 && !selectedBrands.includes(product.brand)) {
                        return false;
                    }
                    
                    // Rating filter
                    if (selectedRatings.length > 0) {
                        const meetsRating = selectedRatings.some(rating => {
                            return product.rating >= rating && product.rating < rating + 1;
                        });
                        if (!meetsRating) return false;
                    }
                    
                    return true;
                });
                
                // Sort products
                switch (sortOption) {
                    case 'price-low':
                        filteredProducts.sort((a, b) => a.price - b.price);
                        break;
                    case 'price-high':
                        filteredProducts.sort((a, b) => b.price - a.price);
                        break;
                    case 'rating':
                        filteredProducts.sort((a, b) => b.rating - a.rating);
                        break;
                    case 'newest':
                        filteredProducts.sort((a, b) => new Date(b.dateAdded) - new Date(a.dateAdded));
                        break;
                    default:
                        // Featured (default sorting)
                        break;
                }
                
                renderProducts(filteredProducts);
                loadingState.classList.add('hidden');
            }, 500); // Simulate loading delay
        }

        // Reset all filters
        function resetAllFilters() {
            priceRange.value = 2000;
            maxPriceDisplay.textContent = '$2000';
            
            document.querySelectorAll('.category-filter').forEach(cb => {
                cb.checked = false;
            });
            
            document.querySelectorAll('.brand-filter').forEach(cb => {
                cb.checked = false;
            });
            
            document.querySelectorAll('.rating-filter').forEach(cb => {
                cb.checked = false;
            });
            
            sortBy.value = 'featured';
            
            if (window.innerWidth < 768) {
                filtersSidebar.classList.add('hidden');
            }
        }
    </script>
</body>
</html>